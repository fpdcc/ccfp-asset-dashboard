{% extends "asset_dashboard/base.html" %}
{% load static %}

{% block title %}Projects by District{% endblock %}

{% block extra_css %}
  <link href="{% static 'css/dataTables.bootstrap4.min.css' %}" rel="stylesheet">
{% endblock %}

{% block body %}
  <div>
      <div class="card mt-4 p-4 col-12 col-lg-10 mx-auto shadow-sm">
        <div class="card-body table-responsive">
          <div class="row justify-content-between" id="heading">
            <h3 class="col-8">View Projects by District</h3>
          </div>

          <!-- these elements filter the table, with the help of javascript -->
          <div class="row d-flex justify-content-around mt-4">
            <select class="form-control col-lg-3 col-md-12 m-1" id="senate-select">
              <option value="" disabled selected >
                Filter by Senate District
              </option>
              {% for district in senate_districts %}
                <option>
                  {{ district.name }}
                </option>
              {% endfor %}
            </select>

              <select class="form-control col-lg-3 col-md-12 m-1" id="house-select">
                <option value="" disabled selected >
                  Filter by House District
                </option>
                {% for district in house_districts %}
                  <option>
                    {{ district.name }}
                  </option>
                {% endfor %}
              </select>

              <select class="form-control col-lg-3 col-md-12 m-1" id="commissioner-select">
                <option value="" disabled selected >
                  Filter by Commissioner District
                </option>
                {% for district in commissioner_districts %}
                  <option>
                    {{ district.name }}
                  </option>
                {% endfor %}
              </select>
              
              <div class='col-lg-1 col-md-12 m-1'>
                <button id="reset" class='btn btn-success'>
                  Reset
                </button>
              </div>
          </div>

          <table class="table table-hover table-border py-4 dataTable no-footer" id="project-by-district-list">
            <thead>
              <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Senate Districts</th>
                <th>House Districts</th>
                <th>Commissioner Districts</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
      </div>
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/libraries/jquery.dataTables.min.js' %}"></script>
  <script src="{% static 'js/libraries/dataTables.bootstrap.min.js' %}"></script>
  <script src="{% static 'js/libraries/dataTables.buttons.min.js' %}"></script>
  <script src="{% static 'js/libraries/buttons.html5.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/districtFilterTable.js' %}"></script>
{% endblock %}
