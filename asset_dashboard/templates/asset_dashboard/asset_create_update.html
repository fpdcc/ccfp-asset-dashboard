{% extends "asset_dashboard/partials/project_base.html" %}
{% load static %}

{% block extra_css %}
  <link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet">
{% endblock %}

{% block project %}
    <div id="map">
        <!-- Contents get replaced by mounted React.Component -->
        <div class="text-center">
            <i class="fa fa-lg fa-spinner fa-spin"></i><br><br>
            <i class="pending">Loading map...</i><br><br>
        </div>
    </div>
  </div>

  <div>
      TODO: add table with list of assets
  </div>
{% endblock %}

{% block extra_js %}
  {{ block.super }}
  {% load compress %}
  {{ props|json_script:"props" }}
  <script type="text/javascript">
    window.props = JSON.parse(document.getElementById('props').textContent)
    window.reactMount = document.getElementById('map')
  </script>
  {% compress js %}
    <script type="text/jsx" src="{% static 'js/components/maps/AssetsMap.js' %}"></script>
  {% endcompress %}
{% endblock %}
